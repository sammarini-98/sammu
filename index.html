<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Samuele Marini - Web Designer</title>
  <!-- Google Font: Outfit (Arrotondato, Moderno, Trendy 2025) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/stile.css">
</head>
<body>
    <!-- ========================================
         HERO SECTION
         ======================================== -->
    <div class="container-fluid img-sfondo" id="home">
        <div class="slideshow-bg">
            <div class="slide active" style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(imgs/fossombrone.jpg);"></div>
            <div class="slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(imgs/sanmarino.jpg);"></div>
            <div class="slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(imgs/novafeltria.jpg);"></div>
        </div>
        
        <!-- Header Navigation -->
        <div class="header">
            <div class="container-fluid">      
                <div class="row pt-4 align-items-center">
                    <div class="col-1 nav-wrapper d-block d-md-none">
                        <img class="btn-menu" src="imgs/menu.png" alt="menu">
                    </div>
                    <div class="offset-3 col-6 offset-md-0 col-md-2">
                        <a href="#home"><img class="logo" src="imgs/logo_s_m.svg" alt="logo"></a>
                    </div>
                    <div class="col-md-8 nav-wrapper d-none d-md-block">
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a href="#home" class="nav-link selected">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="#unirsm" class="nav-link">UNIRSM</a>
                            </li>
                            <li class="nav-item">
                                <a href="#lavoro" class="nav-link">Lavoro</a>
                            </li>
                            <li class="nav-item">
                                <a href="#bottega" class="nav-link">Bottega ODV</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mobile Navigation -->
        <div class="mobile-nav-wrapper d-md-none">
            <img class="btn-close" src="imgs/cross-mark.png" alt="close">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="#home" class="nav-link selected">Home</a>
                </li>
                <li class="nav-item">
                    <a href="#unirsm" class="nav-link">UNIRSM</a>
                </li>
                <li class="nav-item">
                    <a href="#lavoro" class="nav-link">Lavoro</a>
                </li>
                <li class="nav-item">
                    <a href="#bottega" class="nav-link">Bottega ODV</a>
                </li>
            </ul>
        </div>
        
        <!-- Hero Content -->
        <div class="container content-wrapper"> 
            <div class="row prima-row mb-5 mt-5 mt-md-0">
                <div class="offset-md-1 col-md-10 text-center my-3 fade-in">
                    <p class="pt-3 font-2 color-white">Le mie origini</p>
                    <h1 class="font-4 pt-4 color-white">Da Fossombrone a San Marino<br>passando per Novafeltria</h1>
                    <a class="link font-2 my-3 d-inline-block color-white" href="#">> Il territorio</a>
                </div>
            </div>
        </div>
        
        <!-- Slideshow Indicators -->
        <div class="slideshow-indicators">
            <span class="indicator active" data-slide="0"></span>
            <span class="indicator" data-slide="1"></span>
            <span class="indicator" data-slide="2"></span>
        </div>
    </div>

    <!-- ========================================
         PRESENTAZIONE
         ======================================== -->
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="order-1 offset-lg-1 col-lg-4 slide-in-left">
                <p class="pt-3 font-2">Web Designer</p>
                <h1 class="font-4 pt-3 pb-4">samuele<br>_marini.html</h1>
                <p class="py-3">Studente di design all'Università di San Marino, con un background in progettazione meccanica e una passione per il web design e la cultura.</p>
                <a class="link-2 font-2" href="#unirsm">> Scopri di più</a>
            </div>
            <div class="order-2 offset-lg-1 col-lg-6 p-0 m-0 text-center scale-in">
                <img class="img-m-s" src="imgs/marini_samuele.png" alt="Marini Samuele">                
            </div>
        </div>
    </div>

    <!-- ========================================
         UNIRSM DESIGN
         ======================================== -->
    <div class="container-fluid background-gary p-0" id="unirsm">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="offset-lg-6 col-lg-5 py-5 fade-in">
                    <p class="pt-3 font-2 color-white">UNIRSM Design</p>
                    <h1 class="font-4 pt-4 color-white">Il mio attuale percorso</h1>
                    <p class="pt-3 color-white">Dal 2024 studio design all'Università di San Marino, dove sto sviluppando competenze in progettazione, modellistica e disegno. Un percorso che unisce la mia formazione tecnica con la passione per la creatività e il web design, permettendomi di esplorare nuove forme di espressione visiva e digitale.</p>
                    <a class="color-white link font-2 my-3 d-inline-block" href="#">> Sito web UNIRSM</a>
                </div>
            </div>
        </div>
        
        <!-- Progetti UNIRSM -->
        <div class="container-fluid">
            <div class="row align-items-start color-white pb-5 progetti-carousel">
                <div class="col-lg-4 fade-in carousel-item-progetti">
                    <img class="img-eventi" src="imgs/Guga.jpg" alt="Progetto Guga">
                    <h4 class="py-3 font-2">Guga</h4>
                    <p class="pb-4 pb-lg-0">"Guga" è un progetto realizzato in cartoncino piegato e incollato per il laboratorio di modellistica.</p>
                </div>
                <div class="col-lg-4 fade-in carousel-item-progetti">
                    <img class="img-eventi" src="imgs/Echoes.JPG" alt="Progetto Echoes">
                    <h4 class="py-3 font-2">Echoes</h4>
                    <p class="pb-4 pb-lg-0">Questo progetto rappresenta la trasformazione geometrica di una forma data, ispirato alla figurazione delle onde sonore dell'eco.</p>
                </div>
                <div class="col-lg-4 fade-in carousel-item-progetti">
                    <img class="img-eventi" src="imgs/Prospettiva_a_mano_libera.jpg" alt="Disegno prospettico">
                    <h4 class="py-3 font-2">Disegno a mano libera</h4>
                    <p class="pb-4 pb-lg-0">La riproduzione in prospettiva dell'interno di un appartamento per il laboratorio di disegno.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================
         LAVORO - DA PERITO A CAMERIERE
         ======================================== -->
    <div class="container-fluid background-black" id="lavoro">
        <div class="row align-items-center pt-5">
            <div class="order-2 order-lg-1 offset-lg-1 col-lg-5 slide-in-left">
                <h2 class="font-4 color-white pt-4">Gli inizi: da perito a cameriere</h2>
                <p class="pt-3 color-white mb-3">Mi chiamo Samuele Marini e vengo da Fossombrone, nelle Marche. Dopo il diploma di perito meccanico all'Istituto "E. Mattei" di Urbino nel 2018, ho deciso di fare un'esperienza all'estero lavorando come cameriere a Parigi. Pochi mesi dopo sono tornato in Italia, pronto ad accogliere le opportunità professionali che mi attendevano nel mio campo di studi.</p>
            </div>
            <div class="order-1 order-lg-2 col-lg-5 text-center scale-in">
                <img class="img-paris" src="imgs/264-disneyland-experience-connubio-magico-di-cultura-svago-e-incanto-raCplLSf.jpg" alt="Torre Eiffel Parigi">                
            </div>
        </div>
    </div>

    <!-- ========================================
         DISEGNATORE TECNICO
         ======================================== -->
    <div class="container-fluid background-black">
        <div class="row align-items-center py-5">
            <div class="col-12 offset-lg-1 col-lg-5 px-lg-4 scale-in">
                <video class="video-yacht" autoplay loop muted playsinline>
                    <source src="imgs/Electric Sliding Door For Yachts Beach Club.mp4" type="video/mp4">
                </video>
            </div>
            <div class="col-12 col-lg-5 px-lg-3 slide-in-right">
                <h2 class="font-4 pt-4 color-white">L'esperienza nella progettazione</h2>
                <p class="pt-3 color-white">Tornato a Fossombrone, ho iniziato come operaio in un'azienda produttrice di mobili, per poi passare a disegnatore meccanico di macchinari enologici. Successivamente ho intrapreso un percorso di cinque anni presso un'azienda specializzata in porte per yacht, dove ho lavorato come progettista e disegnatore tecnico di porte stagne in alluminio, acciaio inox e vetro. Nel 2023 ho lavorato in uno studio di arredamento contract, occupandomi di progettazione e installazione di arredi su misura per hotel e spazi commerciali.</p>
                <a class="link font-2 my-3 d-inline-block" href="#">> Sliding doors</a>
            </div>
        </div>
    </div>

    <!-- ========================================
         ASSOCIAZIONE BOTTEGA
         ======================================== -->
    <div class="container-fluid" id="bottega">
        <div class="row align-items-center">
            <div class="order-4 order-lg-3 offset-lg-1 col-lg-5 py-lg-5 slide-in-left">
                <p class="pt-3 font-2">Volontariato</p>
                <h1 class="font-4 pt-4">Ass. culturale<br>Bottega ODV</h1>
                <p class="pt-3">Nel 2020, insieme a un amico, abbiamo fondato un'associazione culturale a Fossombrone che offre uno spazio di ritrovo per i giovani e organizza eventi musicali e culturali per la città. Un progetto che continua a crescere e a portare cultura nel territorio.</p>
                <a class="link-2 font-2 my-3 d-inline-block" href="#">> Instagram</a>
            </div>
            <div class="order-3 order-lg-4 col-lg-5 text-center p-0 scale-in">
                <img class="img-bottega px-0 py-4" src="imgs/logo bottega quadrato bianco.png" alt="Logo Bottega">                
            </div>
        </div>
    </div>

  <!-- EVENTI BOTTEGA -->
    <div class="container-fluid">
        <div class="row align-items-start pb-5 eventi-carousel">
            <div class="col-lg-4 fade-in carousel-item-eventi">
                <img class="img-eventi" src="imgs/Bottega_Christmas_concert.png" alt="Bottega Christmas Concert">
                <h4 class="py-3 font-2">Bottega Christmas Concert</h4>
                <p class="pb-4 pb-lg-0">Un caloroso concerto di Natale svoltosi lungo corso Garibaldi a Fossombrone, con la partecipazione delle migliori band e artisti della zona.</p>
            </div>
            <div class="col-lg-4 fade-in carousel-item-eventi">
                <img class="img-eventi" src="imgs/Ama_e_fa_cio_che_vuoi.png" alt="Ama e fa' ciò che vuoi">
                <h4 class="py-3 font-2">Ama e fa' ciò che vuoi</h4>
                <p class="pb-4 pb-lg-0">Un viaggio interiore sulle note de "Il Pianista sul Maggiolone", nel suggestivo Convento dei Frati Cappuccini di Fossombrone.</p>
            </div>
            <div class="col-lg-4 fade-in carousel-item-eventi">
                <img class="img-eventi" src="imgs/Futura_Fest.JPG" alt="Futura Fest">
                <h4 class="py-3 font-2">Futura Fest</h4>
                <p class="pb-4 pb-lg-0">Una giornata all'insegna di street art e musica underground, con tanti giovani e "Chicoria" come special guest.</p>
            </div>
        </div>
    </div>

    <!-- ========================================
         SEZIONE CREATIVITÀ
         ======================================== -->
    <div class="container-fluid text-center py-5 background-black">
        <div class="row">
            <div class="col-12 fade-in">
                <p class="font-2 color-white mb-4">Creatività, strategia e design al servizio del tuo brand</p>
                <div class="instagram-circle mb-4">
                    <a href="#">
                        <img src="imgs/instagram_1384063.png" alt="Instagram" class="instagram-icon">
                    </a>
                </div>
                <h3 class="font-3 color-white">Marini Samuele</h3>
            </div>
        </div>
    </div>

    <!-- ========================================
         FOOTER
         ======================================== -->
    <footer class="container-fluid background-black py-5">
        <div class="container">
            <div class="row align-items-start">
                <div class="col-12 col-md-6 mb-4 mb-md-0">
                    <h4 class="color-white mb-3">s_m.html</h4>
                    <p class="color-white mb-2">© 2025</p>
                    <div class="footer-links">
                        <a href="#" class="link color-white">Privacy</a>
                        <span class="color-white mx-2">—</span>
                        <a href="#" class="link color-white">Cookies</a>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <ul class="footer-nav-list">
                        <li class="footer-nav-item">
                            <a href="#home" class="link color-white">Home</a>
                        </li>
                        <li class="footer-nav-item">
                            <a href="#unirsm" class="link color-white">UNIRSM</a>
                        </li>
                        <li class="footer-nav-item">
                            <a href="#lavoro" class="link color-white">Lavoro</a>
                        </li>
                        <li class="footer-nav-item">
                            <a href="#bottega" class="link color-white">Bottega ODV</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <!-- ========================================
         JAVASCRIPT
         ======================================== -->
    <script>
        
// ========================================
// HEADER FISSO CON EFFETTO SCROLL
// ========================================
const header = document.querySelector('.header');

window.addEventListener('scroll', function() {
    if (window.scrollY > 50) {
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
});

// ========================================
// MENU MOBILE
// ========================================
const btnMenu = document.querySelector('.btn-menu');
const btnClose = document.querySelector('.btn-close');
const mobileNavWrapper = document.querySelector('.mobile-nav-wrapper');
const mobileNavLinks = document.querySelectorAll('.mobile-nav-wrapper .nav-link');
const desktopNavLinks = document.querySelectorAll('.nav-wrapper .nav-link');

// Apri menu mobile
btnMenu.addEventListener('click', function() {
    mobileNavWrapper.classList.add('show');
});

// Chiudi menu mobile
btnClose.addEventListener('click', function() {
    mobileNavWrapper.classList.remove('show');
});

// Chiudi menu quando clicco sul wrapper
mobileNavWrapper.addEventListener('click', function(e) {
    if (e.target === mobileNavWrapper) {
        mobileNavWrapper.classList.remove('show');
    }
});

// Chiudi menu e scrolla quando clicco su un link mobile
mobileNavLinks.forEach(link => {
    link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        
        // Chiudi menu
        mobileNavWrapper.classList.remove('show');
        
        // Aspetta che l'animazione finisca poi scrolla
        setTimeout(() => {
            if (targetId === '#home') {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                const targetSection = document.querySelector(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
            }
        }, 700);
        
        // Aggiorna selected
        updateActiveLink(this);
    });
});

// Smooth scroll per desktop
desktopNavLinks.forEach(link => {
    link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        
        if (targetId === '#home') {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
            const targetSection = document.querySelector(targetId);
            if (targetSection) {
                targetSection.scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        updateActiveLink(this);
    });
});

// Funzione per aggiornare il link attivo
function updateActiveLink(clickedLink) {
    // Rimuovi selected da tutti
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('selected');
    });
    
    // Aggiungi selected al link cliccato e al suo corrispettivo
    const href = clickedLink.getAttribute('href');
    document.querySelectorAll(`.nav-link[href="${href}"]`).forEach(link => {
        link.classList.add('selected');
    });
}

// ========================================
// SLIDESHOW
// ========================================
let currentSlide = 0;
const slideshowBg = document.querySelector('.slideshow-bg');
const slides = document.querySelectorAll('.slide');
const indicators = document.querySelectorAll('.indicator');
const slideInterval = 3000;
let autoSlide;

function goToSlide(n) {
    indicators[currentSlide].classList.remove('active');
    currentSlide = n;
    const offset = -currentSlide * 100;
    slideshowBg.style.transform = `translateX(${offset}%)`;
    indicators[currentSlide].classList.add('active');
}

function nextSlide() {
    let next = (currentSlide + 1) % slides.length;
    goToSlide(next);
}

function startAutoSlide() {
    autoSlide = setInterval(nextSlide, slideInterval);
}

function stopAutoSlide() {
    clearInterval(autoSlide);
}

indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
        stopAutoSlide();
        goToSlide(index);
        startAutoSlide();
    });
});

startAutoSlide();

document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
        stopAutoSlide();
    } else {
        startAutoSlide();
    }
});

// ========================================
// ANIMAZIONI SCROLL
// ========================================
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, observerOptions);

document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right, .scale-in').forEach(el => {
    observer.observe(el);
});

// ========================================
// EVIDENZIA LINK ATTIVO MENTRE SCROLLI
// ========================================
const sections = document.querySelectorAll('section, [id]');
const navLinks = document.querySelectorAll('.nav-link');

function highlightNavOnScroll() {
    let current = 'home';
    
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        
        if (window.scrollY >= (sectionTop - 200)) {
            current = section.getAttribute('id');
        }
    });
    
    // Se siamo in cima, evidenzia home
    if (window.scrollY < 100) {
        current = 'home';
    }
    
    navLinks.forEach(link => {
        link.classList.remove('selected');
        if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('selected');
        }
    });
}

window.addEventListener('scroll', highlightNavOnScroll);

// ========================================
// TOUCH SWIPE PER SLIDESHOW (SOLO MOBILE)
// ========================================
let touchStartX = 0;
let touchCurrentX = 0;
let isDragging = false;
let startOffset = 0;

const heroSection = document.querySelector('.img-sfondo');

heroSection.addEventListener('touchstart', (e) => {
    touchStartX = e.touches[0].clientX;
    isDragging = true;
    startOffset = -currentSlide * 100;
    stopAutoSlide();
    slideshowBg.style.transition = 'none';
}, { passive: true });

heroSection.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    
    touchCurrentX = e.touches[0].clientX;
    const diff = touchCurrentX - touchStartX;
    const diffPercent = (diff / window.innerWidth) * 100;
    const newOffset = startOffset + diffPercent;
    
    slideshowBg.style.transform = `translateX(${newOffset}%)`;
}, { passive: true });

heroSection.addEventListener('touchend', (e) => {
    if (!isDragging) return;
    
    isDragging = false;
    const diff = touchCurrentX - touchStartX;
    const threshold = window.innerWidth * 0.25;
    
    slideshowBg.style.transition = 'transform 0.4s ease-out';
    
    if (diff < -threshold) {
        // Swipe left - prossima slide
        let next = (currentSlide + 1) % slides.length;
        goToSlide(next);
    } else if (diff > threshold) {
        // Swipe right - slide precedente
        let prev = (currentSlide - 1 + slides.length) % slides.length;
        goToSlide(prev);
    } else {
        // Torna alla slide corrente
        goToSlide(currentSlide);
    }
    
    startAutoSlide();
}, { passive: true });
// CAROSELLI PROGETTI E EVENTI (SOLO MOBILE)
function initMobileCarousels() {
    if (window.innerWidth > 767) return;
    
    const progettiCarousel = document.querySelector('.progetti-carousel');
    const eventiCarousel = document.querySelector('.eventi-carousel');
    
    if (!progettiCarousel || !eventiCarousel) {
        console.error('Caroselli non trovati');
        return;
    }
    
    function createCarousel(carouselElement, itemClass) {
        if (!carouselElement) return;
        
        const items = Array.from(carouselElement.querySelectorAll(`.${itemClass}`));
        
        if (items.length === 0) {
            console.error('Nessun item trovato per', itemClass);
            return;
        }
        
        let currentIndex = 0;
        let touchStartX = 0;
        let touchCurrentX = 0;
        let isDragging = false;
        let startOffset = 0;
        let bounceInterval;
        let hasInteracted = false;
        
        // Crea wrapper e track
        const wrapper = document.createElement('div');
        wrapper.className = 'carousel-wrapper-mobile';
        wrapper.style.width = '100%';
        wrapper.style.overflow = 'hidden';
        
        const track = document.createElement('div');
        track.className = 'carousel-track-mobile';
        track.style.display = 'flex';
        track.style.transition = 'transform 0.4s ease-out';
        
        // Clona gli items
        items.forEach(item => {
            const clone = item.cloneNode(true);
            clone.style.minWidth = '100%';
            clone.style.maxWidth = '100%';
            clone.style.flexShrink = '0';
            clone.style.marginRight = '4%';
            clone.style.marginLeft = '0%';
            clone.style.paddingRight = '0px';
            clone.style.paddingLeft = '0px';
            clone.classList.remove('fade-in', 'visible');
            
            // Ridimensiona immagini
            const img = clone.querySelector('.img-eventi');
            if (img) {
                img.style.maxHeight = '250px';
                img.style.height = 'auto';
                img.style.width = '100%';
                img.style.objectFit = 'cover';
            }
            
            // Ridimensiona testi
            const title = clone.querySelector('h4');
            if (title) {
                title.style.fontSize = '22px';
                title.style.lineHeight = '26px';
            }
            
            const text = clone.querySelector('p');
            if (text) {
                text.style.fontSize = '16px';
                text.style.lineHeight = '22px';
            }
            
            track.appendChild(clone);
        });
        
        wrapper.appendChild(track);
        carouselElement.innerHTML = '';
        carouselElement.appendChild(wrapper);
        
        // Animazione di rimbalzo
        function startBounceAnimation() {
            if (hasInteracted) return;
            
            bounceInterval = setInterval(() => {
                if (hasInteracted) {
                    clearInterval(bounceInterval);
                    return;
                }
                
                track.style.transition = 'transform 0.5s ease-out';
                track.style.transform = 'translateX(-8%)';
                
                setTimeout(() => {
                    track.style.transform = `translateX(${-currentIndex * 100}%)`;
                }, 500);
            }, 3000);
        }
        
        setTimeout(startBounceAnimation, 1000);
        
        // Touch events
        wrapper.addEventListener('touchstart', (e) => {
            hasInteracted = true;
            clearInterval(bounceInterval);
            touchStartX = e.touches[0].clientX;
            isDragging = true;
            startOffset = -currentIndex * 96;
            track.style.transition = 'none';
        }, { passive: true });
        
        wrapper.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            
            touchCurrentX = e.touches[0].clientX;
            const diff = touchCurrentX - touchStartX;
            const diffPercent = (diff / window.innerWidth) * 100;
            const newOffset = startOffset + diffPercent;
            
            track.style.transform = `translateX(${newOffset}%)`;
        }, { passive: true });
        
        wrapper.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            
            isDragging = false;
            const diff = touchCurrentX - touchStartX;
            const threshold = window.innerWidth * 0.2;
            
            track.style.transition = 'transform 0.4s ease-out';
            
            if (diff < -threshold && currentIndex < items.length - 1) {
                currentIndex++;
            } else if (diff > threshold && currentIndex > 0) {
                currentIndex--;
            }
            
            track.style.transform = `translateX(${-currentIndex * 104}%)`;
        }, { passive: true });
    }
    
    createCarousel(progettiCarousel, 'carousel-item-progetti');
    createCarousel(eventiCarousel, 'carousel-item-eventi');
}

// Inizializza quando il DOM è pronto
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
        if (window.innerWidth <= 767) {
            initMobileCarousels();
        }
    });
} else {
    if (window.innerWidth <= 767) {
        initMobileCarousels();
    }
}

let resizeTimer;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        location.reload();
    }, 250);
});
    </script>
</body>
</html>